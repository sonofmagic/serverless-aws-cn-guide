# 更复杂的 serverless nodejs Lambda函数

## 前言

### 1. 支持typescript

0. `serverless-plugin-typescript`, 这是由 `serverless` 官方维护并支持的 `ts` 方案
1. `serverless-esbuild`，第三方编写的，使用 `esbuild` 去编译 `ts` 代码的方案

### 关于本地调试

本地调试函数主要使用 `2` 种方式

1. `sls invoke local -f <function name> -d/-p ...`
2. `serverless-offline`

> 注意，因为整个项目是 `typescript` 编写的，而实际运行却是 `js` 文件，所以你编译时，必须打开 `sourcemap`选项才能命中到 `ts`源码里的断点，不然只能命中到 `.build/.esbuild` 里 `js` 产物的代码。

其中 `sls invoke local -f` 是直接调用本地函数进行调试

`serverless-offline` 则是在本地模拟出一个 `lambda` 和 `API Gateway` 的环境进行部署，就像在起一个 `http server` 一样监听端口，这样来进行调试。
